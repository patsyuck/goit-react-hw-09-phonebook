(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{12:function(t,e,n){"use strict";n.d(e,"l",(function(){return u})),n.d(e,"j",(function(){return s})),n.d(e,"k",(function(){return b})),n.d(e,"e",(function(){return j})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return g})),n.d(e,"d",(function(){return k}));var c=n(5),r=n(15),o=n.n(r),i=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},a=function(){o.a.defaults.headers.common.Authorization=""},u=Object(c.b)("USER_REGISTER"),s=Object(c.b)("USER_LOGIN"),b=Object(c.b)("USER_LOGOUT"),j=Object(c.b)("GET_CURRENT_USER"),O=Object(c.b)("AUTH/REQUEST"),l=Object(c.b)("AUTH/SUCCESS"),d=Object(c.b)("AUTH/ERROR"),f=Object(c.b)("LOGOUT/ERROR"),h=function(t){return function(e){e(O()),o.a.post("https://connections-api.herokuapp.com/users/signup",t).then((function(t){e(l()),i(t.data.token),e(u(t.data))})).catch((function(t){e(d(t))}))}},p=function(t){return function(e){e(O()),o.a.post("https://connections-api.herokuapp.com/users/login",t).then((function(t){e(l()),i(t.data.token),e(s(t.data))})).catch((function(t){e(d(t))}))}},g=function(){return function(t){t(O()),o.a.post("https://connections-api.herokuapp.com/users/logout").then((function(){t(l()),a(),t(b())})).catch((function(e){t(f(e))}))}},k=function(){return function(t,e){var n=e().persistedReducer.token;n&&(i(n),t(O()),o.a.get("https://connections-api.herokuapp.com/users/current").then((function(e){t(l()),t(j(e.data))})).catch((function(e){t(d(e))})))}}},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"l",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"i",(function(){return b})),n.d(e,"e",(function(){return j})),n.d(e,"f",(function(){return O})),n.d(e,"d",(function(){return l})),n.d(e,"k",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"j",(function(){return p}));var c=n(5),r=n(15),o=n.n(r),i=Object(c.b)("ADD_CONTACT"),a=Object(c.b)("UPDATE_CONTACT"),u=Object(c.b)("DELETE_CONTACT"),s=Object(c.b)("FILTER_CONTACTS"),b=Object(c.b)("GET_DATA"),j=Object(c.b)("API/REQUEST"),O=Object(c.b)("API/SUCCESS"),l=Object(c.b)("API/ERROR"),d=function(t){return function(e){e(j()),o.a.post("https://connections-api.herokuapp.com/contacts",t).then((function(){e(O()),e(i(t))})).catch((function(t){e(l(t))}))}},f=function(){return function(t){t(j()),o.a.get("https://connections-api.herokuapp.com/contacts").then((function(e){t(O()),t(b(e))})).catch((function(e){t(l(e))}))}},h=function(t){return function(e){e(j()),o.a.delete("https://connections-api.herokuapp.com/contacts/".concat(t)).then((function(){e(O()),e(u(t))})).catch((function(t){e(l(t))}))}},p=function(t,e){return function(n){n(j()),o.a.patch("https://connections-api.herokuapp.com/contacts/".concat(t),e).then((function(t){n(O()),n(a(t.data))})).catch((function(t){n(l(t))}))}}},38:function(t,e,n){},52:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(23),i=n.n(o),a=n(9),u=(n(52),n(17)),s=n(6),b=(n(53),n(40)),j=n.n(b),O=n(1),l=function(){return Object(O.jsx)(j.a,{type:"Puff",color:"#00BFFF",height:500,width:500})},d=function(t){return t.persistedReducer.isLogin},f=function(t){return t.persistedReducer.user.name},h={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"black"},activeLink:{color:"red"}};var p=function(){var t=Object(a.c)(d);return Object(O.jsxs)("div",{children:[Object(O.jsx)(u.b,{to:"/",exact:!0,style:h.link,activeStyle:h.activeLink,children:"Home"}),t&&Object(O.jsx)(u.b,{to:"/contacts",exact:!0,style:h.link,activeStyle:h.activeLink,children:"Contacts"})]})},g=n(12),k=(n(38),n.p+"static/media/mine.e8c87480.jpg");var x=function(){var t=Object(a.c)(f),e=Object(a.b)(),n=Object(c.useCallback)((function(){e(Object(g.h)())}),[e]);return Object(O.jsxs)("div",{className:"menuUser",children:[Object(O.jsx)("img",{className:"userImage",src:k,alt:"",width:"32"}),Object(O.jsxs)("span",{className:"userName",children:["Welcome, ",t]}),Object(O.jsx)("button",{type:"button",onClick:n,children:"Logout"})]})},v={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"black"},activeLink:{color:"red"}},m=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(u.b,{to:"/register",exact:!0,style:v.link,activeStyle:v.activeLink,children:"Registration"}),Object(O.jsx)(u.b,{to:"/login",exact:!0,style:v.link,activeStyle:v.activeLink,children:"Login"})]})};var E,y=function(){var t=Object(a.c)(d);return Object(O.jsxs)("header",{className:"menuHeader",children:[Object(O.jsx)(p,{}),t?Object(O.jsx)(x,{}):Object(O.jsx)(m,{})]})},R=n(2),T=n(24),S=["children"],L=function(t){var e=t.children,n=Object(T.a)(t,S),c=Object(a.c)(d);return Object(O.jsx)(s.b,Object(R.a)(Object(R.a)({},n),{},{children:c?e:Object(O.jsx)(s.a,{to:"/login"})}))},A=["children"],C=function(t){var e=t.children,n=Object(T.a)(t,A),c=Object(a.c)(d);return Object(O.jsx)(s.b,Object(R.a)(Object(R.a)({},n),{},{children:c&&n.restricted?Object(O.jsx)(s.a,{to:"/contacts"}):e}))},U=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,104))})),N=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,105))})),P=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,106))})),_=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,107))})),w=function(){var t=Object(a.b)();return Object(c.useEffect)((function(){t(Object(g.d)())}),[]),Object(O.jsx)("div",{children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(y,{}),Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(l,{}),children:Object(O.jsxs)(s.d,{children:[Object(O.jsx)(C,{path:"/",exact:!0,children:Object(O.jsx)(U,{})}),Object(O.jsx)(C,{path:"/register",restricted:!0,children:Object(O.jsx)(P,{})}),Object(O.jsx)(C,{path:"/login",restricted:!0,children:Object(O.jsx)(N,{})}),Object(O.jsx)(L,{path:"/contacts",children:Object(O.jsx)(_,{})}),Object(O.jsx)(s.a,{to:"/"})]})})]})})},F=n(22),I=n(5),z=n(19),D=n(41),G=n.n(D),H=n(7),B=n(18),W={user:null,token:null,isLogin:!1,isProcessing:!1,authError:null,contacts:[],filter:"",isFetching:!1,fetchError:null},J=Object(I.c)(W,(E={},Object(H.a)(E,g.l,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{user:n.user,token:n.token,isLogin:!0})})),Object(H.a)(E,g.j,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{user:n.user,token:n.token,isLogin:!0})})),Object(H.a)(E,g.k,(function(){return W})),Object(H.a)(E,g.e,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{user:n,isLogin:!0})})),Object(H.a)(E,B.i,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{contacts:n.data})})),Object(H.a)(E,B.a,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{contacts:[].concat(Object(F.a)(t.contacts),[n])})})),Object(H.a)(E,B.l,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{contacts:[].concat(Object(F.a)(t.contacts.filter((function(t){return t.id!==n.id}))),[n])})})),Object(H.a)(E,B.b,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{contacts:t.contacts.filter((function(t){return t.id!==n}))})})),Object(H.a)(E,B.g,(function(t,e){var n=e.payload;return Object(R.a)(Object(R.a)({},t),{},{filter:n.target.value})})),Object(H.a)(E,B.e,(function(t){return Object(R.a)(Object(R.a)({},t),{},{isFetching:!0})})),Object(H.a)(E,B.f,(function(t){return Object(R.a)(Object(R.a)({},t),{},{isFetching:!1})})),Object(H.a)(E,B.d,(function(t,e){var n=e.payload;return console.log(n.message),Object(R.a)(Object(R.a)({},t),{},{isFetching:!1,fetchError:n.message})})),Object(H.a)(E,g.b,(function(t){return Object(R.a)(Object(R.a)({},t),{},{isProcessing:!0})})),Object(H.a)(E,g.c,(function(t){return Object(R.a)(Object(R.a)({},t),{},{isProcessing:!1})})),Object(H.a)(E,g.a,(function(t,e){var n=e.payload;return console.log(n.message),Object(R.a)(Object(R.a)({},t),{},{isProcessing:!1,authError:n.message,isLogin:!1})})),Object(H.a)(E,g.f,(function(t,e){var n=e.payload;return console.log(n.message),Object(R.a)(Object(R.a)({},t),{},{isProcessing:!1,authError:n.message})})),E)),Q=Object(F.a)(Object(I.d)({serializableCheck:{ignoredActions:[z.a,z.f,z.b,z.c,z.d,z.e]}})),M={key:"repeta",storage:G.a,whitelist:["token"]},q=Object(z.g)(M,J),K=Object(I.a)({reducer:{persistedReducer:q},middleware:Q}),V={store:K,persistor:Object(z.h)(K)},X=n(42);i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(a.a,{store:V.store,children:Object(O.jsx)(X.a,{loading:null,persistor:V.persistor,children:Object(O.jsx)(w,{})})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.2b686bfe.chunk.js.map