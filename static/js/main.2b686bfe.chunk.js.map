{"version":3,"sources":["redux/authorization/authorizationActions.js","redux/contacts/contactsActions.js","components/Loader/Loader.js","redux/authorization/authorizationSelectors.js","components/Menu/Navigation.js","components/Menu/mine.jpg","components/Menu/UserMenu.js","components/Menu/Authorization.js","components/Menu/Menu.js","components/Menu/PrivateRoute.js","components/Menu/PublicRoute.js","App.js","redux/reducer.js","redux/store.js","index.js"],"names":["token","axios","defaults","headers","common","Authorization","userRegister","createAction","userLogin","userLogout","getUser","authRequest","authSuccess","authError","logoutError","postRegistration","credentials","dispatch","post","then","res","data","catch","error","postLogin","postLogout","getCurrentUser","getState","persistedToken","persistedReducer","get","addContact","updateContact","deleteContact","filterContacts","getData","fetchRequest","fetchSuccess","fetchError","postContact","newContact","getContacts","deleteExistContact","id","delete","patchContact","patch","MyLoader","type","color","height","width","getAuthorization","state","isLogin","getName","user","name","styles","link","display","textDecoration","padding","fontWeight","activeLink","Navigation","isAuthorized","useSelector","to","exact","style","activeStyle","UserMenu","useDispatch","onLogout","useCallback","className","src","image","alt","onClick","Menu","PrivateRoute","children","routeProps","PublicRoute","restricted","HomePage","lazy","LoginPage","RegisterPage","ContactsPage","App","useEffect","fallback","path","initialState","isProcessing","contacts","filter","isFetching","reducer","createReducer","payload","item","target","value","console","log","message","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfig","key","storage","whitelist","persistReducer","store","configureStore","persistor","persistStore","ReactDOM","render","StrictMode","bigStore","loading","document","getElementById"],"mappings":"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","file":"static/js/main.2b686bfe.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = ''\n    }\n}\n\nexport const userRegister = createAction('USER_REGISTER')\nexport const userLogin = createAction('USER_LOGIN')\nexport const userLogout = createAction('USER_LOGOUT')\nexport const getUser = createAction('GET_CURRENT_USER')\nexport const authRequest = createAction('AUTH/REQUEST')\nexport const authSuccess = createAction('AUTH/SUCCESS')\nexport const authError = createAction('AUTH/ERROR')\nexport const logoutError = createAction('LOGOUT/ERROR')\n\nexport const postRegistration = credentials => dispatch => {\n    dispatch(authRequest())\n    axios.post('https://connections-api.herokuapp.com/users/signup', credentials)\n        .then((res) => {\n            dispatch(authSuccess())\n            token.set(res.data.token)\n            dispatch(userRegister(res.data))\n        })\n        .catch((error) => {\n            dispatch(authError(error))\n        })\n}\n\nexport const postLogin = credentials => dispatch => {\n    dispatch(authRequest())\n    axios.post('https://connections-api.herokuapp.com/users/login', credentials)\n        .then((res) => {\n            dispatch(authSuccess())\n            token.set(res.data.token)\n            dispatch(userLogin(res.data))\n        })\n        .catch((error) => {\n            dispatch(authError(error))\n        })\n}\n\nexport const postLogout = () => dispatch => {\n    dispatch(authRequest())\n    axios.post('https://connections-api.herokuapp.com/users/logout')\n        .then(() => {\n            dispatch(authSuccess())\n            token.unset()\n            dispatch(userLogout())\n        })\n        .catch((error) => {\n            dispatch(logoutError(error))\n        })\n}\n\nexport const getCurrentUser = () => (dispatch, getState) => {\n    const persistedToken = getState().persistedReducer.token\n    if (!persistedToken) {\n        return\n    }\n    token.set(persistedToken)\n    dispatch(authRequest())\n    axios.get('https://connections-api.herokuapp.com/users/current')\n        .then((res) => {\n            dispatch(authSuccess())\n            dispatch(getUser(res.data))\n        })\n        .catch((error) => {\n            dispatch(authError(error))\n        })\n}","import { createAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const addContact = createAction('ADD_CONTACT');\nexport const updateContact = createAction('UPDATE_CONTACT');\nexport const deleteContact = createAction('DELETE_CONTACT');\nexport const filterContacts = createAction('FILTER_CONTACTS');\nexport const getData = createAction('GET_DATA')\nexport const fetchRequest = createAction('API/REQUEST')\nexport const fetchSuccess = createAction('API/SUCCESS')\nexport const fetchError = createAction('API/ERROR')\n\nexport const postContact = newContact => dispatch => {\n    dispatch(fetchRequest())\n    axios.post('https://connections-api.herokuapp.com/contacts', newContact)\n        .then(() => {\n            dispatch(fetchSuccess())\n            dispatch(addContact(newContact))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n\nexport const getContacts = () => dispatch => {\n    dispatch(fetchRequest())\n    axios.get('https://connections-api.herokuapp.com/contacts')\n        .then((data) => {\n            dispatch(fetchSuccess())\n            dispatch(getData(data))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n\nexport const deleteExistContact = id => dispatch => {\n    dispatch(fetchRequest())\n    axios.delete(`https://connections-api.herokuapp.com/contacts/${id}`)\n        .then(() => {\n            dispatch(fetchSuccess())\n            dispatch(deleteContact(id))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n\nexport const patchContact = (id, newContact) => dispatch => {\n    dispatch(fetchRequest())\n    axios.patch(`https://connections-api.herokuapp.com/contacts/${id}`, newContact)\n        .then((res) => {\n            dispatch(fetchSuccess())\n            dispatch(updateContact(res.data))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nconst MyLoader = () => {\n    return (\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={500}\n        width={500}\n      />\n    );\n}\n\nexport default MyLoader;","export const getAuthorization = state => state.persistedReducer.isLogin\nexport const getName = state => state.persistedReducer.user.name","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useSelector } from 'react-redux';\nimport { getAuthorization } from '../../redux/authorization/authorizationSelectors'\n\nconst styles = {\n    link: {\n        display: 'inline-block',\n        textDecoration: 'none',\n        padding: 12,\n        fontWeight: 700,\n        color: 'black'\n    },\n    activeLink: {\n        color: 'red'\n    }\n}\n\nfunction Navigation() {\n    const isAuthorized = useSelector(getAuthorization)\n\n    return (\n        <div>\n            <NavLink\n                to=\"/\" exact\n                style={styles.link}\n                activeStyle={styles.activeLink}\n            >\n                Home\n            </NavLink>\n            {isAuthorized && (\n                <NavLink\n                    to=\"/contacts\" exact\n                    style={styles.link}\n                    activeStyle={styles.activeLink}\n                >\n                    Contacts\n                </NavLink>\n            )}\n        </div>\n    )\n}\n\nexport default Navigation","export default __webpack_public_path__ + \"static/media/mine.e8c87480.jpg\";","import React, {useCallback} from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { postLogout } from '../../redux/authorization/authorizationActions'\nimport { getName } from '../../redux/authorization/authorizationSelectors'\nimport './Menu.css'\nimport image from './mine.jpg'\n\nfunction UserMenu () {\n  const name = useSelector(getName)\n  const dispatch = useDispatch()\n  const onLogout = useCallback(() => { dispatch(postLogout()) }, [dispatch])\n\n  return (\n    <div className=\"menuUser\">\n      <img className=\"userImage\" src={image} alt=\"\" width=\"32\"/>\n      <span className=\"userName\">Welcome, {name}</span>\n      <button type=\"button\" onClick={onLogout}>\n        Logout\n      </button>\n    </div>\n  )\n}\n\nexport default UserMenu","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nconst styles = {\n    link: {\n        display: 'inline-block',\n        textDecoration: 'none',\n        padding: 12,\n        fontWeight: 700,\n        color: 'black'\n    },\n    activeLink: {\n        color: 'red'\n    }\n}\n\nconst Authorization = () => {\n    return (\n        <div>\n            <NavLink\n                to=\"/register\" exact\n                style={styles.link}\n                activeStyle={styles.activeLink}\n            >\n                Registration\n            </NavLink>\n            <NavLink\n                to=\"/login\" exact\n                style={styles.link}\n                activeStyle={styles.activeLink}\n            >\n                Login\n            </NavLink>\n        </div>\n    )\n}\n\nexport default Authorization","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Navigation from './Navigation'\nimport UserMenu from './UserMenu'\nimport Authorization from './Authorization'\nimport {getAuthorization} from '../../redux/authorization/authorizationSelectors'\nimport './Menu.css'\n\nfunction Menu() {\n  const isAuthorized = useSelector(getAuthorization)\n\n  return (\n    <header className=\"menuHeader\">\n      <Navigation />\n      {isAuthorized ? <UserMenu /> : <Authorization />}\n    </header>\n  )\n}\n\nexport default Menu","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getAuthorization } from '../../redux/authorization/authorizationSelectors'\n\nconst PrivateRoute = ({\n  children,\n  ...routeProps\n}) => {\n  const isAuthorized = useSelector(getAuthorization)\n\n  return (\n    <Route {...routeProps}>\n      {isAuthorized ? children : <Redirect to=\"/login\" />}\n    </Route>\n  )\n}\n\nexport default PrivateRoute","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getAuthorization } from '../../redux/authorization/authorizationSelectors'\n\nconst PublicRoute = ({\n  children,\n  ...routeProps\n}) => {\n  const isAuthorized = useSelector(getAuthorization)\n\n  return (\n    <Route {...routeProps}>\n      {isAuthorized && routeProps.restricted ? <Redirect to=\"/contacts\" /> : children}\n    </Route>\n  )\n}\n\nexport default PublicRoute","import React, { useEffect, Suspense, lazy } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {BrowserRouter as Router, Switch, Redirect} from 'react-router-dom';\nimport MyLoader from './components/Loader/Loader';\nimport Menu from './components/Menu/Menu';\nimport {getCurrentUser} from './redux/authorization/authorizationActions'\nimport PrivateRoute from './components/Menu/PrivateRoute';\nimport PublicRoute from './components/Menu/PublicRoute';\n\nconst HomePage = lazy(() => import('./components/Pages/HomePage')) /* webpackChunkName: \"home-page\" */\nconst LoginPage = lazy(() => import('./components/Pages/LoginPage')) /* webpackChunkName: \"login-page\" */\nconst RegisterPage = lazy(() => import('./components/Pages/RegisterPage')) /* webpackChunkName: \"register-page\" */\nconst ContactsPage = lazy(() => import('./components/Pages/ContactsPage')) /* webpackChunkName: \"contacts-page\" */\n\nconst App = () => {\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(getCurrentUser())\n   // eslint-disable-next-line react-hooks/exhaustive-deps\n   }, [])\n\n  return (\n    <div>\n      <Router>\n        <Menu />\n        <Suspense fallback={<MyLoader />}>\n          <Switch>\n            <PublicRoute path=\"/\" exact>\n              <HomePage />\n            </PublicRoute>\n            <PublicRoute path=\"/register\" restricted>\n              <RegisterPage />\n            </PublicRoute>\n            <PublicRoute path=\"/login\" restricted>\n              <LoginPage />\n            </PublicRoute>\n            <PrivateRoute path=\"/contacts\">\n              <ContactsPage />\n            </PrivateRoute>\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </Router>\n    </div>\n  )\n}\n\nexport default App;","import { createReducer } from '@reduxjs/toolkit';\nimport { addContact, updateContact, deleteContact, filterContacts, getData, fetchRequest, fetchSuccess, fetchError } from './contacts/contactsActions';\nimport {userRegister, userLogin, userLogout, getUser, authRequest, authSuccess, authError, logoutError} from './authorization/authorizationActions';\n\nconst initialState = {\n  user: null,\n  token: null,\n  isLogin: false,\n  isProcessing: false,\n  authError: null,\n  contacts: [],\n  filter: '',\n  isFetching: false,\n  fetchError: null\n};\n\nconst reducer = createReducer(initialState, {\n  [userRegister]: (state, { payload }) => ({\n    ...state,\n    user: payload.user,\n    token: payload.token,\n    isLogin: true\n  }),\n  [userLogin]: (state, { payload }) => ({\n    ...state,\n    user: payload.user,\n    token: payload.token,\n    isLogin: true\n  }),\n  [userLogout]: () => initialState,\n  [getUser]: (state, { payload }) => ({\n    ...state,\n    user: payload,\n    isLogin: true\n  }),\n  [getData]: (state, { payload }) => ({\n    ...state,\n    contacts: payload.data\n  }),\n  [addContact]: (state, { payload }) => ({\n    ...state,\n    contacts: [...state.contacts, payload]\n    }),\n    [updateContact]: (state, { payload } ) => ({\n        ...state,\n        contacts: [...state.contacts.filter(item => item.id !== payload.id), payload]\n    }),\n  [deleteContact]: (state, { payload }) => ({\n    ...state,\n    contacts: state.contacts.filter(item => item.id !== payload)\n  }),\n  [filterContacts]: (state, { payload }) => ({\n    ...state,\n    filter: payload.target.value,\n  }),\n  [fetchRequest]: (state) => ({\n    ...state,\n    isFetching: true\n  }),\n  [fetchSuccess]: (state) => ({\n    ...state,\n    isFetching: false\n  }),\n  [fetchError]: (state, { payload }) => {\n    console.log(payload.message)\n    return {\n      ...state,\n      isFetching: false,\n      fetchError: payload.message\n    }\n  },\n  [authRequest]: (state) => ({\n    ...state,\n    isProcessing: true\n  }),\n  [authSuccess]: (state) => ({\n    ...state,\n    isProcessing: false\n  }),\n  [authError]: (state, { payload }) => {\n    console.log(payload.message)\n    return {\n      ...state,\n      isProcessing: false,\n      authError: payload.message,\n      isLogin: false\n    }\n  },\n  [logoutError]: (state, { payload }) => {\n    console.log(payload.message)\n    return {\n      ...state,\n      isProcessing: false,\n      authError: payload.message\n    }\n  }\n});\n\nexport default reducer","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { persistStore, persistReducer, FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage';\nimport reducer from './reducer'\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]\n    }\n  })\n]\n\nconst persistConfig = {\n  key: 'repeta',\n  storage,\n  whitelist: ['token']\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducer)\n\nconst store = configureStore({\n  reducer: {\n    persistedReducer,\n  },\n  middleware\n});\n\nconst persistor = persistStore(store)\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport bigStore from './redux/store';\nimport {PersistGate} from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={bigStore.store}>\n      <PersistGate loading={null} persistor={bigStore.persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}